#
# The stock availability system uses the "stock-availability" domain to
# keep track of application context data.
#
# This app-instance-context file is used to configure the application instance.
#

---
name: Clickstream
projects:
  - name: ao.cp.taggingengine
    topics:
      - name: socket_visitorjourney_visitor_page_visit
        dataModel:
          key:
            type: String
          value:
            type: Json
      - name: socket_visitorjourney_visitor_interaction
        dataModel:
          key:
            type: String
          value:
            type: Json
      - name: socket_visitorjourney_visitor_track_interaction
        dataModel:
          key:
            type: String
          value:
            type: Json
      - name: socket_visitorjourney_displayed_topbanner
        dataModel:
          key:
            type: String
          value:
            type: Json
      - name: messaging_engine_promocode_generated
        dataModel:
          key:
            type: String
          value:
            type: Avro
            schemaFile: "../schemas/messaging_engine_promocode_generated.avsc"
      - name: tagging_engine_tagged_visitor_interaction_v2
        dataModel:
          key:
            type: String
          value:
            type: Avro
            schemaFile: "../schemas/tagging_engine_tagged_visitor_interaction_v2.avsc"
      - name: tagging_engine_tagged_visitor_interaction_json
        dataModel:
          key:
            type: String
          value:
            type: Json
    producers:
      - principal: "User:EA5OEKFEB2Q5DCM7"
        #prefixGroup: true
        groupId: "TaggingService" # => APPLICATION INSTANCE
        topics:
          - tagging_engine_tagged_visitor_interaction_v2
          - tagging_engine_tagged_visitor_interaction_json
    consumers:
      - principal: "User:EA5OEKFEB2Q5DCM7"
        groupId: "cp-tagging-service-consumer" # => APPLICATION INSTANCE
        #prefixGroup: true
        topics:
          - socket_visitorjourney_visitor_page_visit
          - socket_visitorjourney_visitor_interaction
          - socket_visitorjourney_visitor_track_interaction
          - socket_visitorjourney_displayed_topbanner
          - messaging_engine_promocode_generated
